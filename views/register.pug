extends layouts/login-layout.pug

block content
    .loginContainer 
        h1 Register for new user
        form#registerForm(method="POST" , onsubmit="event.preventDefault(); validatePassword()")
            p.errorMessage #{errorMessage}

            input(type="text" name ="firstName" placeholder="First name" value=firstName required="")
            input(type="text" name ="lastName" placeholder="Last name" value=lastName required="")
            input(type="text", name="username", placeholder="Username", value=username required="")
            input(type="email" name ="email" placeholder="Email" value=email required="")
            input#password(type="password" name="password" placeholder="Password" required="")
            input#passwordCnf(type="password" name="passwordCnf" placeholder="Confirm Password" required="")
            input(type="submit", value="Register")

        a(href="/login") Already have an account? Login Here

        script.
            let password = document.getElementById("password");
            let passwordConf = document.getElementById("passwordCnf");

            let form = document.getElementById("registerForm");

            function validatePassword(){
                if(password.value != passwordConf.value){
                    alert("Password do not match. Please try again");
                }else{
                    form.submit();
                }
            }